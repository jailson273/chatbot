{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"8fbe10fa-917d-419c-b548-3d41bbeffc8d","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:45076"}],"$conditionOutputs":[{"stateId":"welcome","conditions":[{"source":"input","comparison":"matches","values":[".*"],"$$hashKey":"object:45123"}],"$connId":"con_3","$invalid":false,"$$hashKey":"object:45104"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"onboarding","root":true,"$position":{"top":"0px","left":"679px"},"$title":"Início","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"b19b3acf-882b-427f-8556-8acaafa325b0","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:62255"}],"$conditionOutputs":[{"stateId":"error","conditions":[{"source":"input","comparison":"matches","values":[".*"],"$$hashKey":"object:62300"}],"$connId":"con_8","$invalid":false,"$$hashKey":"object:62281"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"fallback","$position":{"top":"0px","left":"141px"},"$title":"Exceções","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"welcome":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"4033e73e-1951-4a92-b60a-b3fbdefd1cd8","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:39209"}],"$conditionOutputs":[{"stateId":"80bd1656-e546-44e2-87f2-77934444c33c","$connId":"con_13","conditions":[{"source":"intent","comparison":"equals","values":["fazer-pedido"],"$$hashKey":"object:58681"}],"$invalid":false,"$$hashKey":"object:58673"},{"stateId":"77816207-40d9-492c-8fd8-7019a884521b","$connId":"con_18","conditions":[{"source":"intent","comparison":"equals","values":["consultar-cardapio"],"$$hashKey":"object:56320","entity":"VerMenu"}],"$invalid":false,"$$hashKey":"object:56312"},{"stateId":"def6d130-9d48-45c0-aa50-7a9f0e33b430","$connId":"con_23","conditions":[{"source":"intent","comparison":"equals","values":["consultar-preco"],"$$hashKey":"object:53369"}],"$invalid":false,"$$hashKey":"object:53361"},{"stateId":"6d6ef860-a667-41b3-9896-71027993de92","$connId":"con_28","conditions":[{"source":"intent","comparison":"equals","values":["consultar-endereco"],"$$hashKey":"object:52375"}],"$invalid":false,"$$hashKey":"object:52367"},{"stateId":"8dc6a7bc-aaf2-4566-be9f-96c7c4f21dc8","$connId":"con_33","conditions":[{"source":"intent","comparison":"equals","values":["ajuda"],"$$hashKey":"object:14507"}],"$invalid":false,"$$hashKey":"object:14499"},{"stateId":"8a1c2f2c-698e-4b6d-9b8c-1f55ca42919d","$connId":"con_38","conditions":[{"source":"intent","comparison":"equals","values":["sair"],"$$hashKey":"object:64985"}],"$invalid":false,"$$hashKey":"object:64977"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#1EA1FF","label":"NLP","id":"blip-tag-eb180b6e-af11-6a7c-fb27-ca984cb4fd8d","canChangeBackground":false}],"id":"welcome","$position":{"top":"232px","left":"679px"},"$title":"Reconhecimento","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"error":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false,"$$hashKey":"object:61810"},{"action":{"type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, não consegui entender!"},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, não consegui entender!"},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false,"$$hashKey":"object:61811"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"8e475e51-2a9f-469c-8b77-6363e6980927","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:61812"}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"welcome","$invalid":false},"$tags":[],"id":"error","$position":{"top":"0px","left":"410px"},"$title":"Erro padrão","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"8dc6a7bc-aaf2-4566-be9f-96c7c4f21dc8":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"55b98478-f3bf-4c3f-a8ab-9c08c22889ee","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"55b98478-f3bf-4c3f-a8ab-9c08c22889ee","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:41582"},{"action":{"type":"SendMessage","settings":{"id":"ebd7e6b0-837e-4994-aa52-bfc733e3f5f8","type":"application/vnd.lime.select+json","content":{"text":"Posso te ajudar com alguma dessas opções?","options":[{"text":"Pedido","previewText":"Pedido","value":null,"index":0,"type":null},{"text":"Cardápio","previewText":"Cardápio","value":null,"index":1,"type":null},{"text":"Preços","previewText":"Preços","value":null,"index":2,"type":null},{"index":-1,"text":"Nosso Endereço","previewText":"Nosso Endereço","type":null,"value":null},{"index":-1,"text":"Sair","previewText":"Sair","type":null,"value":null}]}},"$cardContent":{"document":{"id":"ebd7e6b0-837e-4994-aa52-bfc733e3f5f8","type":"application/vnd.lime.select+json","content":{"text":"Posso te ajudar com alguma dessas opções?","options":[{"text":"Pedido","previewText":"Pedido","value":null,"index":0,"type":null},{"text":"Cardápio","previewText":"Cardápio","value":null,"index":1,"type":null},{"text":"Preços","previewText":"Preços","value":null,"index":2,"type":null},{"index":-1,"text":"Nosso Endereço","previewText":"Nosso Endereço","type":null,"value":null},{"index":-1,"text":"Sair","previewText":"Sair","type":null,"value":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:41583"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"13329622-ded6-4335-b393-d89eb1eef742","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:40789","$invalid":false}],"$conditionOutputs":[{"stateId":"8a1c2f2c-698e-4b6d-9b8c-1f55ca42919d","$connId":"con_43","conditions":[{"source":"intent","comparison":"equals","values":["Sair","negacao"],"$$hashKey":"object:46842"}],"$invalid":false,"$$hashKey":"object:46823"},{"stateId":"welcome","$connId":"con_48","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:14965"}],"$invalid":false,"$$hashKey":"object:14957"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["Pedido","Cardápio","Preços","Nosso Endereço","Sair"],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"8dc6a7bc-aaf2-4566-be9f-96c7c4f21dc8","root":false,"$title":"Ajuda","$position":{"top":"101px","left":"411px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"8a1c2f2c-698e-4b6d-9b8c-1f55ca42919d":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"a6521bc4-764a-4133-b1d7-2de0e4f90974","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"a6521bc4-764a-4133-b1d7-2de0e4f90974","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:47363"},{"action":{"type":"SendMessage","settings":{"id":"31b40b80-cd5d-4aa9-b271-cda899e47edf","type":"text/plain","content":"Agradecemos o seu contato, até breve!"},"$cardContent":{"document":{"id":"31b40b80-cd5d-4aa9-b271-cda899e47edf","type":"text/plain","content":"Agradecemos o seu contato, até breve!"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:47364"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"8740608c-cb6d-4606-a950-24d4e84eecea","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:44711","$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"type":"Redirect","$title":"Redirecionar a um serviço","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{input.content}}"},"address":"BotAgent"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"8a1c2f2c-698e-4b6d-9b8c-1f55ca42919d","root":false,"$title":"Encerramento","$position":{"top":"101px","left":"145px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"6d6ef860-a667-41b3-9896-71027993de92":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"c67da319-c3d4-4154-b446-8b056009cb2a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"c67da319-c3d4-4154-b446-8b056009cb2a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:51149"},{"action":{"type":"SendMessage","settings":{"id":"4fd7445a-5a79-4aea-b28d-eabfaf00c672","type":"text/plain","content":"O Endereço é:\n\nRua da pizzas numero 123\nParque das pizzas\nEm frente a praça do poder\n"},"$cardContent":{"document":{"id":"4fd7445a-5a79-4aea-b28d-eabfaf00c672","type":"text/plain","content":"O Endereço é:\n\nRua da pizzas numero 123\nParque das pizzas\nEm frente a praça do poder\n"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:51150"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"7f1dadcc-7b01-45f5-b0ae-095f80862104","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:49769","$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","$connId":"con_53","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:16209"}],"$invalid":false,"$$hashKey":"object:16200"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"6d6ef860-a667-41b3-9896-71027993de92","root":false,"$title":"NossoEndereco","$position":{"top":"405px","left":"407px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"def6d130-9d48-45c0-aa50-7a9f0e33b430":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"9074fcbd-79f6-46a1-b1c9-178926eb6daf","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"9074fcbd-79f6-46a1-b1c9-178926eb6daf","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:52893"},{"action":{"type":"SendMessage","settings":{"id":"0253b5a0-02d9-4e3c-b64a-2e2a6476729b","type":"text/plain","content":"Nossos preços.\n\nEntrega - R$ 15,00 (Qualquer lugar da cidade)\nRetirada - R$ 0,00\nCom borda - R$ 15,00\nSem Borda - R$ 0,00\n\nPizzas - Consulte o cardápio "},"$cardContent":{"document":{"id":"0253b5a0-02d9-4e3c-b64a-2e2a6476729b","type":"text/plain","content":"Nossos preços.\n\nEntrega - R$ 15,00 (Qualquer lugar da cidade)\nRetirada - R$ 0,00\nCom borda - R$ 15,00\nSem Borda - R$ 0,00\n\nPizzas - Consulte o cardápio "},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:52894"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"e4dd22f9-f26f-4396-81a5-250ca3484b5d","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:52460","$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","$connId":"con_58","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:15806"}],"$invalid":false,"$$hashKey":"object:15797"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"def6d130-9d48-45c0-aa50-7a9f0e33b430","root":false,"$title":"Precos","$position":{"top":"304px","left":"409px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"77816207-40d9-492c-8fd8-7019a884521b":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"7a72cd8b-3759-4676-994d-c7b23ccb5694","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"7a72cd8b-3759-4676-994d-c7b23ccb5694","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:60570"},{"action":{"type":"SendMessage","settings":{"id":"e1371e66-e7ef-4492-8df1-8bf220621bd9","type":"text/plain","content":"Aqui está o cardápio."},"$cardContent":{"document":{"id":"e1371e66-e7ef-4492-8df1-8bf220621bd9","type":"text/plain","content":"Aqui está o cardápio."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:60571"},{"action":{"type":"SendMessage","settings":{"id":"b5d7b3fa-a315-4ca1-8e9b-6a320cab38c4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"b5d7b3fa-a315-4ca1-8e9b-6a320cab38c4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:89436"},{"action":{"type":"SendMessage","settings":{"id":"0c5ec654-5683-4e6e-a524-6e03ce2c5454","type":"text/plain","content":"Tamanhos\n\nB - Broto (4 Pedaços)\nM - Média (6 Pedaços)\nG - Grande (8 Pedaços)\nF - Família (12 pedaços)\n\nBorda Recheada - R$ 15,00\n\nEntrega - R$ 15,00 (Qualquer endereço da cidade)"},"$cardContent":{"document":{"id":"0c5ec654-5683-4e6e-a524-6e03ce2c5454","type":"text/plain","content":"Tamanhos\n\nB - Broto (4 Pedaços)\nM - Média (6 Pedaços)\nG - Grande (8 Pedaços)\nF - Família (12 pedaços)\n\nBorda Recheada - R$ 15,00\n\nEntrega - R$ 15,00 (Qualquer endereço da cidade)"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:67296"},{"action":{"type":"SendMessage","settings":{"id":"4af26c8c-318a-42ab-a1d0-77514c5836e7","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"4af26c8c-318a-42ab-a1d0-77514c5836e7","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:90338"},{"action":{"type":"SendMessage","settings":{"id":"ae73509d-9342-4e1e-84fc-7807a24b3f50","type":"text/plain","content":"Pizzas Salgadas\n\n1 - Calabresa\nMolho, mussarela, calabresa, cebola fatiada e orégano.\nR$ - B: 10,00 | M: 20,00 | G: 30,00 | F: 40,00\n\n2 - Mussarela \nMolho, mussarela, tomate em rodelas e orégano.\nR$ - B: 10,00 | M: 20,00 | G: 30,00 | F: 40,00","metadata":{"#message.spinText":"true"}},"$cardContent":{"document":{"id":"ae73509d-9342-4e1e-84fc-7807a24b3f50","type":"text/plain","content":"Pizzas Salgadas\n\n1 - Calabresa\nMolho, mussarela, calabresa, cebola fatiada e orégano.\nR$ - B: 10,00 | M: 20,00 | G: 30,00 | F: 40,00\n\n2 - Mussarela \nMolho, mussarela, tomate em rodelas e orégano.\nR$ - B: 10,00 | M: 20,00 | G: 30,00 | F: 40,00"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:66491"},{"action":{"type":"SendMessage","settings":{"id":"d0dc901c-b269-4cb1-9527-051c800f317e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d0dc901c-b269-4cb1-9527-051c800f317e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:91351"},{"action":{"type":"SendMessage","settings":{"id":"36f8f40c-6ab9-4e90-8be9-9c7a5bc34e41","type":"text/plain","content":"Pizzas Doces\n\n3 - Chocolate\nMussarela, chocolate ao leite.\nR$ - B: 20,00 | M: 30,00 | G: 40,00 | F: 50,00\n\n4 - Beijinho \nBeijinho Moça Nestlé.\nR$ - B: 20,00 | M: 30,00 | G: 40,00 | F: 50,00","metadata":{"#message.spinText":"true"}},"$cardContent":{"document":{"id":"36f8f40c-6ab9-4e90-8be9-9c7a5bc34e41","type":"text/plain","content":"Pizzas Doces\n\n3 - Chocolate\nMussarela, chocolate ao leite.\nR$ - B: 20,00 | M: 30,00 | G: 40,00 | F: 50,00\n\n4 - Beijinho \nBeijinho Moça Nestlé.\nR$ - B: 20,00 | M: 30,00 | G: 40,00 | F: 50,00"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:61731"},{"action":{"type":"SendMessage","settings":{"id":"24f67fba-0a90-4208-8cef-0cca1317ff95","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"24f67fba-0a90-4208-8cef-0cca1317ff95","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:92475"},{"action":{"type":"SendMessage","settings":{"id":"37de2227-2adc-4b42-86ae-b75df2f71dc1","type":"application/vnd.lime.select+json","content":{"text":"Posso te ajudar com alguma dessas opções?","options":[{"text":"Pedido","previewText":"Pedido","value":null,"index":0,"type":null},{"text":"Cardápio","previewText":"Cardápio","value":null,"index":1,"type":null},{"text":"Preços","previewText":"Preços","value":null,"index":2,"type":null},{"index":-1,"text":"Nosso endereço","previewText":"Nosso endereço","type":null,"value":null},{"index":-1,"text":"Sair","previewText":"Sair","type":null,"value":null}]}},"$cardContent":{"document":{"id":"37de2227-2adc-4b42-86ae-b75df2f71dc1","type":"application/vnd.lime.select+json","content":{"text":"Posso te ajudar com alguma dessas opções?","options":[{"text":"Pedido","previewText":"Pedido","value":null,"index":0,"type":null},{"text":"Cardápio","previewText":"Cardápio","value":null,"index":1,"type":null},{"text":"Preços","previewText":"Preços","value":null,"index":2,"type":null},{"index":-1,"text":"Nosso endereço","previewText":"Nosso endereço","type":null,"value":null},{"index":-1,"text":"Sair","previewText":"Sair","type":null,"value":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:70727"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"3037f56d-6415-4af5-84d7-1204ecc52d8c","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:55508","$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","$connId":"con_63","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:15403"}],"$invalid":false,"$$hashKey":"object:15394"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["Pedido","Cardápio","Preços","Nosso endereço","Sair"],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"77816207-40d9-492c-8fd8-7019a884521b","root":false,"$title":"Cardapio","$position":{"top":"198px","left":"410px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"80bd1656-e546-44e2-87f2-77934444c33c":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"81d1cbe5-66cf-47c4-b4ae-f0a6230755f4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"81d1cbe5-66cf-47c4-b4ae-f0a6230755f4","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:64545"},{"action":{"type":"SendMessage","settings":{"id":"38eb9389-9129-4cea-9755-c2afbb06a045","type":"text/plain","content":"Faça seu pedido enviando:\nSabor, tamanho, quantidade e com borda ou sem borda.\n\nSe for mais de uma pizza mande um pedido abaixo do outro."},"$cardContent":{"document":{"id":"38eb9389-9129-4cea-9755-c2afbb06a045","type":"text/plain","content":"Faça seu pedido enviando:\nSabor, tamanho, quantidade e com borda ou sem borda.\n\nSe for mais de uma pizza mande um pedido abaixo do outro."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:64546"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"ccf2ffc6-cda2-4f7c-a23e-b83b8be6f7ca","type":"text/plain","textContent":"Entrada do usuário","content":"pedido"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"variable":"pedido"},"$$hashKey":"object:58766","$invalid":false}],"$conditionOutputs":[{"stateId":"1157a50f-c663-48d3-a087-c1108c8191cb","$connId":"con_68","conditions":[{"source":"entity","comparison":"equals","values":["Mussarela","Calabresa","Chocolate","Beijinho"],"$$hashKey":"object:9087","entity":"cardapio"}],"$invalid":false,"$$hashKey":"object:9068"},{"stateId":"welcome","$connId":"con_73","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:18810"}],"$invalid":false,"$$hashKey":"object:18802"}],"$enteringCustomActions":[],"$leavingCustomActions":[{"type":"SetVariable","$title":"Definir variável","$invalid":false,"settings":{"variable":"itens","value":"{{input.content}}"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"80bd1656-e546-44e2-87f2-77934444c33c","root":false,"$title":"Pedido","$position":{"top":"0px","left":"966px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"1157a50f-c663-48d3-a087-c1108c8191cb":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"ab6a9dd3-8dbd-441f-9bcf-fb0056ee9081","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"ab6a9dd3-8dbd-441f-9bcf-fb0056ee9081","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:93509"},{"action":{"type":"SendMessage","settings":{"id":"73194eeb-94cd-4818-98a3-927c0cd731c8","type":"text/plain","content":"Um momento, estou anotando seu pedido."},"$cardContent":{"document":{"id":"73194eeb-94cd-4818-98a3-927c0cd731c8","type":"text/plain","content":"Um momento, estou anotando seu pedido."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:10409"},{"input":{"bypass":true,"$cardContent":{"document":{"id":"aaed9c54-955a-42aa-b153-c76159b99293","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:5166","$invalid":false}],"$conditionOutputs":[{"stateId":"4b43d7ac-d266-4e24-826d-8a88e2a64b29","$connId":"con_78","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:9472"}],"$invalid":false,"$$hashKey":"object:9453"}],"$enteringCustomActions":[{"type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"\n\t\t   function run(itens) {\n\n\t\t\titens = removerAcentos(itens);\n\n\t\t\tvar menu = ['calabresa', 'mussarela','chocolate','beijinho']\n\t\t\tvar tam = ['b', 'broto', 'm', 'media', 'medio', 'g', 'grande', 'f', 'familia']\n\t\t\tvar qtd = ['1', '2', '3', '4', '5', '6', '7', '8','9','um','dois','duas', 'trez','tres','treis','treiz','quatro','cinco','seis','sete','oito','nove']\n\n\t\t\tvar cardapio = [\n\n\t\t\t\t{\n\t\t\t\t\tcodigo: 1,\n\t\t\t\t\tpizza: 'calabresa',\n\t\t\t\t\tbroto: 13,\n\t\t\t\t\tmedia: 20,\n\t\t\t\t\tgrande: 30,\n\t\t\t\t\tfamilia: 40\n\t\t\t\t},\n\t\t\t\n\t\t\t\t{\n\t\t\t\t\tcodigo: 2,\n\t\t\t\t\tpizza: 'mussarela',\n\t\t\t\t\tbroto: 13,\n\t\t\t\t\tmedia: 20,\n\t\t\t\t\tgrande: 30,\n\t\t\t\t\tfamilia: 40\n\t\t\t\t},\n\t\t\t\n\t\t\t\t{\n\t\t\t\t\tcodigo: 3,\n\t\t\t\t\tpizza: 'chocolate',\n\t\t\t\t\tbroto: 20,\n\t\t\t\t\tmedia: 30,\n\t\t\t\t\tgrande: 40,\n\t\t\t\t\tfamilia: 50\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t{\n\t\t\t\t\tcodigo: 4,\n\t\t\t\t\tpizza: 'beijinho',\n\t\t\t\t\tbroto: 20,\n\t\t\t\t\tmedia: 30,\n\t\t\t\t\tgrande: 40,\n\t\t\t\t\tfamilia: 50\n\t\t\t\t}\n\t\t\t\n\t\t\t]\n\n\t\t\tfunction removerAcentos( newStringComAcento ) {\n\t\t\t\tvar string = newStringComAcento;\n\t\t\t\tvar mapaAcentosHex \t= {\n\t\t\t\t\ta : /[\\xE0-\\xE6]/g,\n\t\t\t\t\te : /[\\xE8-\\xEB]/g,\n\t\t\t\t\ti : /[\\xEC-\\xEF]/g,\n\t\t\t\t\to : /[\\xF2-\\xF6]/g,\n\t\t\t\t\tu : /[\\xF9-\\xFC]/g,\n\t\t\t\t\tc : /\\xE7/g,\n\t\t\t\t\tn : /\\xF1/g\n\t\t\t\t};\n\t\t\t\n\t\t\t\tfor ( var letra in mapaAcentosHex ) {\n\t\t\t\t\tvar expressaoRegular = mapaAcentosHex[letra];\n\t\t\t\t\tstring = string.replace( expressaoRegular, letra );\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn string;\n\t\t\t}\n\n\t\t\tvar resumo = [];\n\n\n\n\n\t\t\tvar itn = (itens.toLowerCase()).split('\\n');\n\n\t\t\tvar pedido =  itn.map(function(i){\n\n\t\t\t\treturn  { item: i.split(' ') }\n\n\t\t\t})\n\n\n\n\t\t\tvar tamVazio = false;\n\n\n\t\t\tpedido.forEach(function(i){\n\n\t\t\t\t\n\t\t\t\tvar sabor = menu.find(m => i.item.indexOf(m) >= 0);\n\n\t\t\t\tvar tamanho = tam.find(t => i.item.indexOf(t) >= 0);\n\n\t\t\t\tvar quantidade = qtd.find(q => i.item.indexOf(q) >= 0);\n\n\t\t\t\tif(quantidade == 'um') quantidade = '1'\n\t\t\t\telse if (quantidade == 'dois' || quantidade == 'duas') quantidade = '2'\n\t\t\t\telse if (quantidade == 'tres' || quantidade == 'trez' || quantidade == 'treis' || quantidade == 'treiz') quantidade = '3'\n\t\t\t\telse if (quantidade == 'quatro') quantidade = '4'\n\t\t\t\telse if (quantidade == 'cinco') quantidade = '5'\n\t\t\t\telse if (quantidade == 'seis') quantidade = '6'\n\t\t\t\telse if (quantidade == 'sete') quantidade = '7'\n\t\t\t\telse if (quantidade == 'oito') quantidade = '8'\n\t\t\t\telse if (quantidade == 'nove') quantidade = '9'\n\t\t\t\telse if(!quantidade) quantidade = '1'\n\t\t\t\telse quantidade = '1'\n\t\t\t\t\t\n\t\t\t\tvar temp = cardapio.find(function(c) {\n\n\t\t\t\t\tif(c.pizza == sabor)\t\n\t\t\t\t\t\treturn c\t\t\t\t\n\t\t\t\t})\n\n\t\t\t\tvar itemPedido = {\n\n\t\t\t\t\tpizza: '',\n\t\t\t\t\ttamanho: '',\n\t\t\t\t\tqtd: '',\n\t\t\t\t\tpreco: '',\n\t\t\t\t\ttotal: '',\n\t\t\t\t\tborda: '',\n\t\t\t\t}\n\n\n\t\t\t\tif(tamanho == 'broto' || tamanho == 'b'){\n\t\t\t\t\titemPedido.tamanho = 'Broto';\n\t\t\t\t\titemPedido.preco = temp.broto;\n\t\t\t\t}\n\t\t\t\telse if(tamanho == 'media' || tamanho == 'm' || tamanho == 'medio'){\n\t\t\t\t\titemPedido.tamanho = 'Média';\n\t\t\t\t\titemPedido.preco = temp.media;\n\t\t\t\t}\n\t\t\t\telse if(tamanho == 'grande' || tamanho == 'g'){\n\t\t\t\t\titemPedido.tamanho = 'Grande';\n\t\t\t\t\titemPedido.preco = temp.grande;\n\t\t\t\t}\n\t\t\t\telse if(tamanho == 'familia' || tamanho == 'f'){\n\t\t\t\t\titemPedido.tamanho = 'Família';\n\t\t\t\t\titemPedido.preco = temp.familia;\n\t\t\t\t}\n\t\t\t\telse{\n\n\t\t\t\t\titemPedido.tamanho = 'Média';\n\t\t\t\t\titemPedido.preco = temp.media;\n\t\t\t\t\ttamVazio = true;\n\t\t\t\t}\n\n\n\t\t\t\tvar temBorda = i.item.find(function(b){\n\t\t\t\t\tif(b == 'com')\n\t\t\t\t\treturn true\n\t\t\t\t})\n\n\n\t\t\t\titemPedido.borda = (temBorda ? 'Sim' : 'Não');\n\t\t\t\titemPedido.pizza = temp.pizza;\n\t\t\t\titemPedido.qtd = parseInt(quantidade);\n\t\t\t\titemPedido.preco = parseFloat(itemPedido.preco);\n\t\t\t\titemPedido.total = ((itemPedido.qtd * itemPedido.preco) + (temBorda ? 15 : 0)).toFixed(2);\n\t\t\t\t\n\t\t\t\tresumo.push(itemPedido);\n\t\t\t})\n\n\n\t\t\tvar totalPedido = resumo.reduce(function(total, item){\n\n\t\t\t\treturn total = (parseFloat(total) + parseFloat(item.total)).toFixed(2)\n\n\t\t\t}, 0);\n\n\n\t\t\tvar resumoPedidoCompleto = `Resumo do Pedido \\n${(tamVazio==true? '\\n*** Voce escolheu pizza sem tamanho, então consideramos média ***\\n': '')}`;\n\t\t\tresumo.forEach(function(res){\n\n\t\t\t\tvar itemRes = `${res.qtd} ${res.qtd > 1 ? 'pizzas' : 'pizza'} de ${res.pizza} ${res.tamanho} ${res.borda == 'Sim' ? 'com borda' : 'sem borda'} - R$ ${res.total}`\n\n\t\t\t\tresumoPedidoCompleto = resumoPedidoCompleto + '\\n' + itemRes\n\t\t\t})\n\n\t\t\tresumoPedidoCompleto = resumoPedidoCompleto + '\\n\\n' + 'Total do pedido: \\n'+ 'Para entregar - R$ ' + (parseFloat(totalPedido) + 15).toFixed(2) + '\\n' + 'Para retirar - R$ ' + totalPedido;\n\n\t\t\t// console.log(resumoPedidoCompleto);\n\t\t\treturn resumoPedidoCompleto; //Return value will be saved as \"Return value variable\" field name\n\t\t}","inputVariables":["context.itens"],"outputVariable":"resumoPedidoCompleto"},"conditions":[]}],"$leavingCustomActions":[{"type":"SetVariable","$title":"Definir variável","$invalid":false,"settings":{"value":"{{resumoPedidoCompleto}}","expiration":null,"variable":"resumo"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"1157a50f-c663-48d3-a087-c1108c8191cb","root":false,"$title":"PegarItens","$position":{"top":"138px","left":"970px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"62a1da8e-7084-4763-8b99-1e3f29251773":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"f859bfdc-9c10-4841-b146-3250c212f8c9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"f859bfdc-9c10-4841-b146-3250c212f8c9","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:12012"},{"action":{"type":"SendMessage","settings":{"id":"fa26750f-959c-45d2-ac30-20e056c95ee0","type":"text/plain","content":"Cancelei esse pedido, quer pedir novamente?"},"$cardContent":{"document":{"id":"fa26750f-959c-45d2-ac30-20e056c95ee0","type":"text/plain","content":"Cancelei esse pedido, quer pedir novamente?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:12013"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"f88f39d3-8482-4991-b441-1401c3849deb","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:5537","$invalid":false}],"$conditionOutputs":[{"stateId":"80bd1656-e546-44e2-87f2-77934444c33c","$connId":"con_83","conditions":[{"source":"intent","comparison":"equals","values":["confirmacao"],"$$hashKey":"object:19837","entity":"confirmar-pedido"}],"$invalid":false,"$$hashKey":"object:19828"},{"stateId":"welcome","$connId":"con_88","conditions":[{"source":"intent","comparison":"equals","values":["negacao"],"$$hashKey":"object:13025"}],"$invalid":false,"$$hashKey":"object:13017"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"62a1da8e-7084-4763-8b99-1e3f29251773","root":false,"$title":"CancelaPedido","$position":{"top":"267px","left":"1227px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"4b43d7ac-d266-4e24-826d-8a88e2a64b29":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"afab0b7a-d387-44fb-bf20-2317b986adbf","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"afab0b7a-d387-44fb-bf20-2317b986adbf","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:11632"},{"action":{"type":"SendMessage","settings":{"id":"3ab5700a-7d64-4cba-82c1-510fdebc86c6","type":"text/plain","content":"{{resumoPedidoCompleto}}\n\nConfirma?"},"$cardContent":{"document":{"id":"3ab5700a-7d64-4cba-82c1-510fdebc86c6","type":"text/plain","content":"{{resumoPedidoCompleto}}\n\nConfirma?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:11633"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"69a2a3d1-3eaa-4712-ab21-7d8340448241","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:5908","$invalid":false}],"$conditionOutputs":[{"stateId":"eaac5bbe-9f98-4553-91e4-2b556b9d54ec","$connId":"con_93","conditions":[{"source":"intent","comparison":"equals","values":["confirmacao"],"$$hashKey":"object:5274","entity":"confirmar-pedido"}],"$$hashKey":"object:5266","$invalid":false},{"stateId":"62a1da8e-7084-4763-8b99-1e3f29251773","$connId":"con_98","conditions":[{"source":"intent","comparison":"equals","values":["negacao"],"$$hashKey":"object:6061","entity":"confirmar-pedido"}],"$$hashKey":"object:5986","$invalid":false},{"stateId":"welcome","$connId":"con_103","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:32645"}],"$invalid":false,"$$hashKey":"object:32637"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"4b43d7ac-d266-4e24-826d-8a88e2a64b29","root":false,"$title":"Resumo","$position":{"top":"273px","left":"966px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"eaac5bbe-9f98-4553-91e4-2b556b9d54ec":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"fc1a9dc0-07b2-49e5-95e9-d7db22bb218e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"fc1a9dc0-07b2-49e5-95e9-d7db22bb218e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:26622"},{"action":{"type":"SendMessage","settings":{"id":"7cbac4ed-5f31-460c-8af5-d4583dff72e4","type":"application/vnd.lime.select+json","content":{"text":"Seu pedido é para?","options":[{"text":"Entregar","previewText":"Entregar","value":null,"index":0,"type":null},{"text":"Retirar","previewText":"Retirar","value":null,"index":1,"type":null}]}},"$cardContent":{"document":{"id":"7cbac4ed-5f31-460c-8af5-d4583dff72e4","type":"application/vnd.lime.select+json","content":{"text":"Seu pedido é para?","options":[{"text":"Entregar","previewText":"Entregar","value":null,"index":0,"type":null},{"text":"Retirar","previewText":"Retirar","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:26623"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"81bd4a22-3d21-4f5f-8840-3399bb8e6019","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:6639","$invalid":false}],"$conditionOutputs":[{"stateId":"4341db07-58cf-42b5-b770-7da4cacd83fc","$connId":"con_108","conditions":[{"source":"entity","comparison":"equals","values":["Entrega"],"$$hashKey":"object:12275","entity":"forma-entrega"}],"$invalid":false,"$$hashKey":"object:12253"},{"stateId":"4180c818-58c0-4cc8-9ef7-d6fd54d8858f","$connId":"con_113","conditions":[{"source":"entity","comparison":"equals","values":["Retirada"],"$$hashKey":"object:11447","entity":"forma-entrega"}],"$invalid":false,"$$hashKey":"object:11406"},{"stateId":"4341db07-58cf-42b5-b770-7da4cacd83fc","$connId":"con_118","conditions":[{"source":"input","comparison":"equals","values":["Entregar","entrega","delivery","receber em casa","aqui","sim"],"$$hashKey":"object:33165"}],"$invalid":false,"$$hashKey":"object:33157"},{"stateId":"4180c818-58c0-4cc8-9ef7-d6fd54d8858f","$connId":"con_123","conditions":[{"source":"input","comparison":"equals","values":["Retirar","vou buscar","ai","não"],"$$hashKey":"object:33299"}],"$invalid":false,"$$hashKey":"object:33291"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["Entregar","Retirar"],"$defaultOutput":{"stateId":"welcome","$invalid":false},"$tags":[],"id":"eaac5bbe-9f98-4553-91e4-2b556b9d54ec","root":false,"$title":"Entrega","$position":{"top":"423px","left":"966px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"4341db07-58cf-42b5-b770-7da4cacd83fc":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"d541a6ce-a0ff-49f7-9423-b045319f1865","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d541a6ce-a0ff-49f7-9423-b045319f1865","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:12846"},{"action":{"type":"SendMessage","settings":{"id":"ebcd5292-1324-4dd3-8e18-e2fd22dd9d4b","type":"text/plain","content":"Me manda o endereço completo, rua, numero, bairro e ponto de referencia."},"$cardContent":{"document":{"id":"ebcd5292-1324-4dd3-8e18-e2fd22dd9d4b","type":"text/plain","content":"Me manda o endereço completo, rua, numero, bairro e ponto de referencia."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:12847"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"e5d058e7-a476-4924-bc34-61682c2bd51d","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:7381","$invalid":false}],"$conditionOutputs":[{"stateId":"778aba0e-273b-417f-9a4e-38193ca682d7","$connId":"con_128","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:12701"}],"$invalid":false,"$$hashKey":"object:12682"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"4341db07-58cf-42b5-b770-7da4cacd83fc","root":false,"$title":"PedirEndereco","$position":{"top":"525px","left":"713px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"778aba0e-273b-417f-9a4e-38193ca682d7":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"582c800b-ac9b-4643-b2fd-d50a01861acd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"582c800b-ac9b-4643-b2fd-d50a01861acd","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:15334"},{"action":{"type":"SendMessage","settings":{"id":"b9c77ef9-197b-48d2-9ece-ae15eea34113","type":"application/vnd.lime.select+json","content":{"text":"Qual a forma de pagamento?","options":[{"text":"Dinheiro","previewText":"Dinheiro","value":null,"index":0,"type":null},{"text":"Cartão","previewText":"Cartão","value":null,"index":1,"type":null}]}},"$cardContent":{"document":{"id":"b9c77ef9-197b-48d2-9ece-ae15eea34113","type":"application/vnd.lime.select+json","content":{"text":"Qual a forma de pagamento?","options":[{"text":"Dinheiro","previewText":"Dinheiro","value":null,"index":0,"type":null},{"text":"Cartão","previewText":"Cartão","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:15335"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"fee01213-ec26-4463-9896-d5e1add31c35","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:7752","$invalid":false}],"$conditionOutputs":[{"stateId":"585bc570-c8d8-4af9-a508-f951dd68b062","$connId":"con_133","conditions":[{"source":"entity","comparison":"equals","values":["Dinheiro","Troco"],"$$hashKey":"object:13109","entity":"forma-pagamento"}],"$invalid":false,"$$hashKey":"object:13087"},{"stateId":"be4be856-9d44-4d0b-aec2-e57993db297a","$connId":"con_138","conditions":[{"source":"entity","comparison":"equals","values":["Cartão"],"$$hashKey":"object:13130","entity":"forma-pagamento"}],"$invalid":false,"$$hashKey":"object:13088"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["Dinheiro","Cartão"],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"778aba0e-273b-417f-9a4e-38193ca682d7","root":false,"$title":"FormaPagamento","$position":{"top":"705px","left":"713px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"585bc570-c8d8-4af9-a508-f951dd68b062":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"31804b6a-b44d-4667-93ad-a0998cea709a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"31804b6a-b44d-4667-93ad-a0998cea709a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:17387"},{"action":{"type":"SendMessage","settings":{"id":"e677d25c-40c3-42c8-ab36-f254c7598684","type":"application/vnd.lime.select+json","content":{"text":"Precisa de troco?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"Não","previewText":"Não","value":null,"index":1,"type":null}]}},"$cardContent":{"document":{"id":"e677d25c-40c3-42c8-ab36-f254c7598684","type":"application/vnd.lime.select+json","content":{"text":"Precisa de troco?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"Não","previewText":"Não","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:17388"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"e7768efc-4b4e-4e74-b5cd-df0675ae940b","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:8123","$invalid":false}],"$conditionOutputs":[{"stateId":"27dda9f0-e0bf-49ad-804a-e9cf31431a0f","$connId":"con_143","conditions":[{"source":"intent","comparison":"equals","values":["confirmacao"],"$$hashKey":"object:9695"}],"$invalid":false,"$$hashKey":"object:9654"},{"stateId":"be4be856-9d44-4d0b-aec2-e57993db297a","$connId":"con_148","conditions":[{"source":"intent","comparison":"equals","values":["negacao"],"$$hashKey":"object:17242"}],"$invalid":false,"$$hashKey":"object:17223"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":["Sim","Não"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"585bc570-c8d8-4af9-a508-f951dd68b062","root":false,"$title":"PrecisaDeTroco","$position":{"top":"858px","left":"713px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"be4be856-9d44-4d0b-aec2-e57993db297a":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"dc87709e-3f6f-45a5-b712-fabac8e4a90e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"dc87709e-3f6f-45a5-b712-fabac8e4a90e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:26366"},{"action":{"type":"SendMessage","settings":{"id":"5013af3c-75d9-4722-89c3-3ddc932615b4","type":"text/plain","content":"Seu pedido fica pronto em até 40 minutos\n\nA Pizzaria Pampi agradece seu contato, {{greeting}}!"},"$cardContent":{"document":{"id":"5013af3c-75d9-4722-89c3-3ddc932615b4","type":"text/plain","content":"Seu pedido fica pronto em até 40 minutos\n\nA Pizzaria Pampi agradece seu contato, {{greeting}}!"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:26367"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"cf0aab4c-8597-4b98-b655-eb3cae3d0d68","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:8494","$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"type":"ExecuteScript","$title":"Executar script","$invalid":false,"settings":{"function":"run","source":"/**\n            * All input variables needs to be passed as function param;\n            * Objects received as param needs to be parsed. Ex.: JSON.parse(inputVariable1);\n            * Objects returned needs to be stringfied. Ex.: JSON.stringify(inputVariable1);\n            **/\n            function run(hour) {\n\n                hour = hour - 3;\n\n                if(hour >= 0 && hour < 12)\n                    return \"Bom dia\"\n                else if(hour >= 12 && hour < 18)\n                    return \"Boa tarde\"\n                else \n                    return \"Boa noite\"\n                \n            }","inputVariables":["calendar.hour"],"outputVariable":"greeting"},"conditions":[]}],"$leavingCustomActions":[{"type":"Redirect","$title":"Redirecionar a um serviço","$invalid":false,"settings":{"context":{"type":"text/plain","value":"{{input.content}}"},"address":"BotAgent"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"be4be856-9d44-4d0b-aec2-e57993db297a","root":false,"$title":"FinalizaPedido","$position":{"top":"858px","left":"1224px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"27dda9f0-e0bf-49ad-804a-e9cf31431a0f":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"5439b30c-2029-4b8c-b8cc-a181a9652434","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"5439b30c-2029-4b8c-b8cc-a181a9652434","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:18253"},{"action":{"type":"SendMessage","settings":{"id":"a2bbce76-2a46-4415-8a60-639a72a9946b","type":"text/plain","content":"Troco pra Quanto?"},"$cardContent":{"document":{"id":"a2bbce76-2a46-4415-8a60-639a72a9946b","type":"text/plain","content":"Troco pra Quanto?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:18254"},{"input":{"bypass":false,"$cardContent":{"document":{"id":"c6731755-7813-4cf9-88bf-bbc3d215a177","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false,"validation":{"rule":"number","error":"me manda apenas o número, do valor que você precisa de troco."}},"$$hashKey":"object:17460","$invalid":false}],"$conditionOutputs":[{"stateId":"be4be856-9d44-4d0b-aec2-e57993db297a","$connId":"con_153","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:10136"}],"$invalid":false,"$$hashKey":"object:10117"}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"27dda9f0-e0bf-49ad-804a-e9cf31431a0f","root":false,"$title":"TrocoPraQuanto","$position":{"top":"1015px","left":"713px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"4180c818-58c0-4cc8-9ef7-d6fd54d8858f":{"$contentActions":[{"action":{"type":"SendMessage","settings":{"id":"86e1e29c-6a4c-4875-b9e7-204b3eb6454e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"86e1e29c-6a4c-4875-b9e7-204b3eb6454e","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:19029"},{"action":{"type":"SendMessage","settings":{"id":"4bcb8df7-b13c-4c4a-8c04-216adf9af3aa","type":"text/plain","content":"O Endereço para retirada é:\n\nRua da pizzas numero 123\nParque das pizzas\nEm frente a praça do poder"},"$cardContent":{"document":{"id":"4bcb8df7-b13c-4c4a-8c04-216adf9af3aa","type":"text/plain","content":"O Endereço para retirada é:\n\nRua da pizzas numero 123\nParque das pizzas\nEm frente a praça do poder"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false,"$$hashKey":"object:19030"},{"input":{"bypass":true,"$cardContent":{"document":{"id":"4fbb4c6b-d190-42eb-8f27-a71f326b96db","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$$hashKey":"object:18326","$invalid":false}],"$conditionOutputs":[{"stateId":"be4be856-9d44-4d0b-aec2-e57993db297a","$connId":"con_158","conditions":[{"source":"input","comparison":"exists","values":[],"$$hashKey":"object:18884"}],"$$hashKey":"object:18865","$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"4180c818-58c0-4cc8-9ef7-d6fd54d8858f","root":false,"$title":"Retirada","$position":{"top":"533px","left":"1223px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}}